<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Classement - Championnat de Babyfoot</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 p-6">
  <nav class="mb-6">
    <a href="index.html" class="mr-4 font-bold text-blue-600">Classement</a>
    <a href="matchs.html" class="mr-4 text-blue-500 hover:underline">Matchs</a>
    <a href="equipes.html" class="text-blue-500 hover:underline">√âquipes</a>
  </nav>

  <h1 class="text-3xl font-bold mb-4">üèÜ Classement</h1>
  <table class="w-full table-auto bg-white shadow-md rounded-lg overflow-hidden">
    <thead class="bg-blue-600 text-white">
      <tr>
        <th class="p-3">#</th>
        <th class="p-3 text-left">√âquipe</th>
        <th class="p-3">Pts</th>
        <th class="p-3">MJ</th>
        <th class="p-3">V</th>
        <th class="p-3">D</th>
      </tr>
    </thead>
    <tbody id="classement" class="text-center">
      <!-- Les lignes seront ajout√©es dynamiquement via JS -->
    </tbody>
  </table>

  <script>
    const equipes = JSON.parse(localStorage.getItem("equipes") || "[]");
    const matchs = JSON.parse(localStorage.getItem("matchs") || "[]");
    const stats = equipes.map(nom => ({
      nom,
      pts: 0,
      mj: 0,
      v: 0,
      d: 0,
    }));

    matchs.forEach(m => {
      if (m.scoreA !== "" && m.scoreB !== "") {
        const scoreA = parseInt(m.scoreA), scoreB = parseInt(m.scoreB);
        const eqA = stats.find(e => e.nom === m.equipeA);
        const eqB = stats.find(e => e.nom === m.equipeB);
        eqA.mj++; eqB.mj++;
        if (scoreA > scoreB) {
          eqA.pts += 3; eqA.v++; eqB.d++;
        } else if (scoreA < scoreB) {
          eqB.pts += 3; eqB.v++; eqA.d++;
        } else {
          eqA.pts += 1; eqB.pts += 1;
        }
      }
    });

    stats.sort((a, b) => b.pts - a.pts);
    const tbody = document.getElementById("classement");
    stats.forEach((equipe, i) => {
      tbody.innerHTML += `
        <tr class="border-t">
          <td class="p-2">${i + 1}</td>
          <td class="p-2 text-left">${equipe.nom}</td>
          <td class="p-2">${equipe.pts}</td>
          <td class="p-2">${equipe.mj}</td>
          <td class="p-2">${equipe.v}</td>
          <td class="p-2">${equipe.d}</td>
        </tr>
      `;
    });
  </script>
</body>
</html>
